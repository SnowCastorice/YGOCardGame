{
  "_说明": "版本更新日志。每次更新都会在这里记录，网页上也会显示这些信息。格式：版本号、日期、更新内容列表。",
  "versions": [
    {
      "version": "1.0.1",
      "date": "2026-02-24",
      "title": "卡包封面图 + 开发者工具优化",
      "changes": [
        "🖼️ 卡包选择界面新增封面图展示，告别纯 emoji 占位",
        "🌎 TCG 卡包：自动加载 YGOProDeck 官方卡包封面图",
        "🎌 OCG 卡包：异步加载卡包首张卡的卡图作为封面（因 YGOProDeck 无 OCG 独占卡包封面）",
        "🔄 封面图多级 Fallback：官方封面 → 首卡卡图 → emoji 🎴",
        "✨ 封面图支持鼠标悬停放大动画效果",
        "📱 移动端封面图自适应尺寸",
        "🔧 开发者工具弹窗重构：标题改为「开发者工具」，功能分为卡片式板块",
        "📦 开发者工具新增快捷操作：添加 10000 金币、重置游戏",
        "🛠️ 开发者工具层级优化：当前模式信息移至输入框上方，逻辑更清晰"
      ]
    },
    {
      "version": "1.0.0",
      "date": "2026-02-19",
      "title": "货币系统上线 — 金币与钻石双货币体系",
      "changes": [
        "💰 新增货币系统：引入金币（🪙）和钻石（💎）两种虚拟货币",
        "💱 支持货币兑换：10 金币可兑换 1 钻石，1 钻石可兑换 10 金币",
        "🎁 新用户首次进入自动赠送 1000 金币 + 10 钻石",
        "🎴 开包需要消耗货币：每个卡包标注了所需货币类型和数量",
        "💾 货币余额通过浏览器本地存储持久化，关闭网页不会丢失",
        "🏷️ 卡包选择界面新增价格标签，一目了然",
        "📊 顶部导航栏新增货币余额实时显示，点击可打开兑换弹窗",
        "🔄 兑换弹窗支持自定义兑换次数、全部兑换、实时预览",
        "⚠️ 余额不足时开包按钮自动置灰，并提示前往兑换",
        "📱 货币系统完全适配移动端显示"
      ]
    },
    {
      "version": "0.9.2",
      "date": "2026-02-19",
      "title": "KONAMI 卡图代理迁移 — 从 Worker 迁移到 Pages Functions",
      "changes": [
        "🔄 KONAMI 卡图代理从独立 Cloudflare Worker 迁移到 Pages Functions",
        "🌐 解决 workers.dev 域名在国内被墙导致卡图无法加载的问题",
        "📂 新增 functions/api/card-image.js，代理 KONAMI 官方卡图请求",
        "🔗 卡图代理路径改为同域名 /api/card-image?cid=xxx，无需跨域",
        "⚡ 图片缓存策略：30天长期缓存，提升加载速度",
        "🛡️ 内置域名白名单 + CORS 安全策略，防止滥用"
      ]
    },
    {
      "version": "0.9.1",
      "date": "2026-02-19",
      "title": "OCG 卡牌列表拆分为独立文件 — 数据架构优化",
      "changes": [
        "📂 OCG 卡包的卡牌列表从 packs.json 中拆分为独立 JSON 文件",
        "📁 新增 data/ocg/cards/ 目录，每个卡包一个独立卡牌文件",
        "⚡ packs.json 从 25KB 精简至约 2KB，只保留卡包元信息和文件引用",
        "🔄 页面加载时只读取轻量级索引，点击卡包时才按需加载卡牌数据",
        "🔧 fetch_packs.py 工具已更新，--write 模式自动写入独立卡牌文件",
        "📈 支持无限扩展：新增卡包只需添加一个卡牌文件，不影响主配置体积"
      ]
    },
    {
      "version": "0.9.0",
      "date": "2026-02-18",
      "title": "OCG/TCG 数据独立存储 — 数据架构重构",
      "changes": [
        "📂 OCG 和 TCG 的卡包配置和卡包列表现在独立存储，结构更清晰",
        "🏌️‍♂️ data/ocg/ 目录：存放所有 OCG 数据（packs.json + pack_list.json）",
        "🏌️‍♂️ data/tcg/ 目录：存放所有 TCG 数据（packs.json + pack_list.json）",
        "⚙️ 移除旧的混合文件 cards.json 和 pack_list.json",
        "📦 fetch_packs.py 工具脚本已更新，支持新的目录结构",
        "⚡ 网页初始化时并行加载 OCG/TCG 配置，不影响加载速度"
      ]
    },
    {
      "version": "0.8.0",
      "date": "2026-02-18",
      "title": "卡包全面更新 — OCG 和 TCG 均替换为最近发售的三个系列",
      "changes": [
        "📦 OCG 卡包全面更新为最新三个系列：",
        "  🔹 BLAZING DOMINION（ブレイジング・ドミニオン）2026-01-24，80张",
        "  🔹 THE CHRONICLES DECK 精霊術の使い手 2026-01-24，42张",
        "  🔹 DUELIST BOX PRISMATIC SUMMON 2025-12-20，60张",
        "📦 TCG 卡包全面更新为最新三个系列：",
        "  🔹 MAZE OF MUERTOS 2026-02-20",
        "  🔹 BURST PROTOCOL 2026-02-06",
        "  🔹 Phantom Revenge 2025-12-05",
        "🔧 OCG 卡包数据通过 YGOCDB 自动抓取（fetch_packs.py），TCG 卡包使用 YGOProDeck API",
        "⚠️ OCG 卡包稀有度尚未补充，使用默认分布，后续将完善"
      ]
    },
    {
      "version": "0.7.1",
      "date": "2026-02-17",
      "title": "新增最新OCG卡包 BURST PROTOCOL — 2026年1月最新补充包",
      "changes": [
        "📦 新增 OCG 卡包「BURST PROTOCOL」（バースト・プロトコル），2026年1月25日发售",
        "🃏 共收录 99 张卡牌（UR×24 / SR×26 / N×49），全部通过 API 自动拉取",
        "🇨🇳 全部 99 张卡牌均有中文名（通过 YGOCDB 补充），支持中日双语展示",
        "⭐ 包含多个热门主题卡组强化：星尘龙/爆裂体、救援ACE、耀圣之诗、堕天使等",
        "🔧 卡包数据源：YGOProDeck（英文卡牌数据）+ YGOCDB（中文名+日文名补充）"
      ]
    },
    {
      "version": "0.7.0",
      "date": "2026-02-17",
      "title": "卡图点击放大查看 — 看清每一张卡牌的精美卡图",
      "changes": [
        "🔍 开包结果中的卡图现在可以点击放大查看大图",
        "✨ 放大/关闭带有流畅的缩放和淡入淡出过渡动画",
        "📱 完美适配手机端，大图自动适应屏幕尺寸",
        "🎴 放大查看时显示中文名 + 外文名双语卡名",
        "⌨️ 支持 ESC 键快速关闭，也可点击任意位置关闭",
        "🛡️ API 限流保护优化：全局请求节流器 + 自动退避重试机制"
      ]
    },
    {
      "version": "0.6.1",
      "date": "2026-02-17",
      "title": "OCG 改用日文版卡图 — 原汁原味的日版开包体验",
      "changes": [
        "🖼️ OCG 模式现在使用日文版卡图（卡面文字为日文），更贴近真实日版开包",
        "🌎 TCG 模式保持英文版卡图不变",
        "📡 OCG 卡图源改用 YGOCDB CDN（YGOPro 数据库日文卡图）",
        "🔄 已有 OCG 缓存会自动从英文卡图更新为日文卡图",
        "🛡️ 缓存兼容性优化：旧版缓存自动检测并修复卡图 URL"
      ]
    },
    {
      "version": "0.6.0",
      "date": "2026-02-17",
      "title": "中文卡名 + 外文卡名双语展示 — 面向中国区用户优化",
      "changes": [
        "🇨🇳 卡牌名称改为双语展示：中文名（主） + 外文名（副）",
        "🎌 OCG 模式：中文名 + 日文名（如「青眼白龙 / 青眼の白龍」）",
        "🌎 TCG 模式：中文名 + 英文名（如「青眼白龙 / Blue-Eyes White Dragon」）",
        "📡 新增 YGOCDB 中文名自动补充功能，从 YGOCDB API 批量获取中文卡名",
        "🎨 新增双语卡名 CSS 样式：中文名加粗显示，外文名小字灰色",
        "📦 离线备用数据也支持双语展示（nameCN + nameOriginal 字段）",
        "🔧 卡牌数据结构新增 nameCN / nameOriginal 字段，方便后续扩展"
      ]
    },
    {
      "version": "0.5.0",
      "date": "2026-02-16",
      "title": "OCG 改用日文版卡牌数据 — 真正的日版体验",
      "changes": [
        "🇯🇵 OCG 模式改用 YGOProDeck API + language=ja 获取日文卡牌数据",
        "📝 OCG 卡牌现在显示日文卡名和日文效果描述（如「青眼の白龍」「ブラック・マジシャン」）",
        "⚡ OCG 卡牌数据改为批量获取（每批最多20张），加载速度大幅提升",
        "🌐 新增多语言扩展框架：预留简体中文、韩文等语言接口",
        "🔄 YGOProDeck 作为 OCG/TCG 统一数据源，架构更简洁",
        "🛡️ 保留 YGOCDB 作为中文备用数据源（API 故障时自动切换）",
        "📦 OCG 离线备用数据更新为日文版本",
        "💾 缓存 key 按语言区分，切换语言后自动重新获取对应数据"
      ]
    },
    {
      "version": "0.4.0",
      "date": "2026-02-16",
      "title": "OCG 接入 YGOCDB 中文数据源 — 真正的亚洲版体验",
      "changes": [
        "🎌 OCG 模式改用 YGOCDB API（ygocdb.com）获取中文卡牌数据",
        "📝 OCG 卡牌现在显示中文卡名和中文效果描述",
        "🌎 TCG 模式继续使用 YGOProDeck API（英文数据）",
        "🔀 双数据源架构：OCG = YGOCDB + YGOProDeck CDN卡图，TCG = YGOProDeck",
        "📦 OCG 卡包配置改为预定义卡牌ID列表，数据更准确",
        "⚡ OCG 首次加载会逐张获取卡牌信息并缓存，后续秒开",
        "💾 缓存管理界面现在显示数据来源（YGOCDB / YGOProDeck）",
        "🏷️ 卡包列表显示发售日期和卡牌数量"
      ]
    },
    {
      "version": "0.3.0",
      "date": "2026-02-16",
      "title": "新增 OCG 模式 — 支持亚洲版游戏王开包体验",
      "changes": [
        "🎌 新增 OCG（Official Card Game）亚洲版模式，默认展示 OCG 卡包",
        "🌎 原有 TCG（Trading Card Game）欧美版卡包保留，支持一键切换",
        "🔄 顶部导航栏新增 OCG / TCG 模式切换开关",
        "💾 切换模式后自动记住选择，下次打开网页保持上次模式",
        "📦 OCG 初始配置5个卡包：Vol.1、Vol.2、Vol.3、STARTER BOX、PREMIUM PACK 1",
        "🎴 OCG 模式每包5张卡牌（对应日版开包规则），TCG 模式每包9张",
        "📊 OCG 概率调整：UR 更稀有（1%），更贴近真实日版体验",
        "📂 新增 OCG 卡包离线备用数据",
        "🏷️ 网页标题更新为「YGO Pack Opener」"
      ]
    },
    {
      "version": "0.2.0",
      "date": "2026-02-13",
      "title": "接入 YGOProDeck API — 真实卡牌数据与卡图",
      "changes": [
        "🌐 接入 YGOProDeck API，自动获取真实游戏王卡牌数据（名称、属性、卡图等）",
        "💾 实现 IndexedDB 本地缓存系统，卡牌数据缓存7天，避免重复请求",
        "🖼️ 开包结果现在显示真实卡牌图片",
        "📦 卡包配置改为使用官方卡包编码（如 Legend of Blue Eyes White Dragon），无需手动填写卡牌",
        "🎯 新增保底机制：每包最后一张卡至少为 R 稀有度",
        "💾 新增缓存管理界面，可查看和清除缓存数据",
        "⏳ 新增全局加载状态提示（加载卡包数据时显示）",
        "📝 新增版权声明（YGOProDeck & Konami）",
        "📱 优化移动端适配",
        "初始配置3个经典卡包：传说之蓝眼白龙、金属侵略者、法老的仆从"
      ]
    },
    {
      "version": "0.1.0",
      "date": "2026-02-13",
      "title": "项目初始化 - 基础框架搭建",
      "changes": [
        "创建项目基础结构和配置文件",
        "实现卡牌配置表系统（JSON格式，支持策划直接编辑）",
        "实现基础开包动画和卡牌展示效果",
        "添加稀有度系统：N / R / SR / UR 四个等级",
        "添加更新日志页面，记录每次版本迭代",
        "适配Cloudflare Pages部署",
        "初始示例卡包：光与暗的交锋（20张卡牌）"
      ]
    }
  ]
}