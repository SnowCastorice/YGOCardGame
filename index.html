<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>YGO Pack Opener - æ¸¸æˆç‹å¡åŒ…å¼€å°æ¨¡æ‹Ÿå™¨</title>
    <link rel="stylesheet" href="css/style.css?v=0.6.1">
</head>
<body>
    <!-- ====== å…¨å±€åŠ è½½é®ç½©å±‚ ====== -->
    <div id="loading-overlay" class="loading-overlay" style="display:none;">
        <div class="loading-content">
            <div class="loading-spinner"></div>
            <p class="loading-text">åŠ è½½ä¸­...</p>
        </div>
    </div>

    <!-- ====== é¡¶éƒ¨å¯¼èˆªæ  ====== -->
    <header class="top-bar">
        <h1 class="game-title">YGO Pack Opener</h1>
        <!-- OCG / TCG æ¨¡å¼åˆ‡æ¢å¼€å…³ -->
        <div class="mode-switch-container">
            <button id="btn-mode-ocg" class="mode-btn active" data-mode="ocg">OCG</button>
            <button id="btn-mode-tcg" class="mode-btn" data-mode="tcg">TCG</button>
        </div>
        <nav class="top-nav">
            <button id="btn-cache-manage" class="nav-btn">ğŸ’¾ ç¼“å­˜</button>
            <button id="btn-changelog" class="nav-btn">ğŸ“‹ æ—¥å¿—</button>
        </nav>
    </header>

    <!-- ====== ä¸»æ¸¸æˆåŒºåŸŸ ====== -->
    <main class="game-area">
        <!-- å½“å‰æ¨¡å¼æç¤º -->
        <div id="mode-info" class="mode-info">
<span id="mode-info-text">ğŸŒ OCG æ¨¡å¼ï¼ˆäºšæ´²ç‰ˆï¼‰ â€” æ¯åŒ…5å¼  | ä¸­æ–‡å+æ—¥æ–‡å | æ•°æ®æº: YGOProDeck + YGOCDB</span>
        </div>

        <!-- å¡åŒ…é€‰æ‹©åŒºåŸŸ -->
        <section id="pack-select-section" class="section-panel">
            <h2 class="section-title">é€‰æ‹©å¡åŒ…</h2>
<p class="section-subtitle">OCG: ä¸­æ–‡å+æ—¥æ–‡å | TCG: ä¸­æ–‡å+è‹±æ–‡å | æ•°æ®æº: YGOProDeck + YGOCDB</p>
            <div id="pack-list" class="pack-list">
                <!-- å¡åŒ…åˆ—è¡¨ä¼šç”± JS åŠ¨æ€ç”Ÿæˆ -->
            </div>
        </section>

        <!-- å¼€åŒ…æŒ‰é’®åŒºåŸŸ -->
        <section id="open-pack-section" class="section-panel" style="display:none;">
            <div class="pack-info">
                <h2 id="current-pack-name" class="section-title"></h2>
                <p id="current-pack-desc" class="pack-desc"></p>
            </div>
            <div class="open-btn-container">
                <button id="btn-open-pack" class="btn-open-pack">ğŸ´ å¼€å¯å¡åŒ…</button>
            </div>
            <button id="btn-back-to-packs" class="btn-secondary">â† è¿”å›é€‰æ‹©å¡åŒ…</button>
        </section>

        <!-- å¼€åŒ…åŠ¨ç”»é®ç½©å±‚ -->
        <div id="opening-overlay" class="opening-overlay" style="display:none;">
            <div class="opening-animation">
                <div class="pack-tear">
                    <div class="pack-visual">ğŸ´</div>
                    <p class="opening-text">æ­£åœ¨å¼€å¯å¡åŒ…...</p>
                </div>
            </div>
        </div>

        <!-- å¡ç‰Œç»“æœå±•ç¤ºåŒºåŸŸ -->
        <section id="result-section" class="section-panel" style="display:none;">
            <h2 class="section-title">å¼€åŒ…ç»“æœ</h2>
            <div id="cards-display" class="cards-display">
                <!-- æŠ½åˆ°çš„å¡ç‰Œä¼šç”± JS åŠ¨æ€ç”Ÿæˆ -->
            </div>
            <div class="result-actions">
                <button id="btn-open-again" class="btn-open-pack">ğŸ´ å†å¼€ä¸€åŒ…</button>
                <button id="btn-back-from-result" class="btn-secondary">â† è¿”å›é€‰æ‹©å¡åŒ…</button>
            </div>
        </section>
    </main>

    <!-- ====== æ›´æ–°æ—¥å¿—å¼¹çª— ====== -->
    <div id="changelog-modal" class="modal-overlay">
        <div class="modal-content">
            <div class="modal-header">
                <h2>ğŸ“‹ æ›´æ–°æ—¥å¿—</h2>
                <button id="btn-close-changelog" class="modal-close" onclick="document.getElementById('changelog-modal').classList.remove('active')">&times;</button>
            </div>
            <div id="changelog-content" class="modal-body">
                <!-- æ›´æ–°æ—¥å¿—å†…å®¹ç”± JS åŠ¨æ€ç”Ÿæˆ -->
            </div>
        </div>
    </div>

    <!-- ====== ç¼“å­˜ç®¡ç†å¼¹çª— ====== -->
    <div id="cache-modal" class="modal-overlay">
        <div class="modal-content">
            <div class="modal-header">
                <h2>ğŸ’¾ ç¼“å­˜ç®¡ç†</h2>
                <button id="btn-close-cache" class="modal-close" onclick="document.getElementById('cache-modal').classList.remove('active')">&times;</button>
            </div>
            <div id="cache-content" class="modal-body">
                <!-- ç¼“å­˜ä¿¡æ¯ç”± JS åŠ¨æ€ç”Ÿæˆ -->
            </div>
            <div class="modal-footer">
                <button id="btn-clear-cache" class="btn-danger">ğŸ—‘ï¸ æ¸…é™¤æ‰€æœ‰ç¼“å­˜</button>
            </div>
        </div>
    </div>

    <!-- ====== é¡µè„š ====== -->
    <footer class="footer">
<p>YGO Pack Opener v0.6.1 | æ¸¸æˆç‹å¡åŒ…å¼€å°æ¨¡æ‹Ÿå™¨</p>
        <p class="footer-credit">
            å¤–æ–‡æ•°æ®: <a href="https://ygoprodeck.com/" target="_blank" rel="noopener">YGOProDeck</a> | 
            ä¸­æ–‡åç§°: <a href="https://ygocdb.com/" target="_blank" rel="noopener">YGOCDB</a> | 
            Yu-Gi-Oh! Â© <a href="https://www.konami.com/" target="_blank" rel="noopener">Konami</a>
        </p>
    </footer>

    <!-- å†…è”è„šæœ¬ï¼šç¡®ä¿å¼¹çª—å…³é—­æŒ‰é’®å§‹ç»ˆå¯ç”¨ï¼ˆä¸å—å¤–éƒ¨JSç¼“å­˜å½±å“ï¼‰ -->
    <script>
    document.addEventListener('DOMContentLoaded', function() {
        // é€šç”¨å¼¹çª—å…³é—­é€»è¾‘
        document.querySelectorAll('.modal-close').forEach(function(btn) {
            btn.addEventListener('click', function() {
                var modal = this.closest('.modal-overlay');
                if (modal) modal.classList.remove('active');
            });
        });
        // ç‚¹å‡»å¼¹çª—é®ç½©å±‚ï¼ˆå¤–éƒ¨åŒºåŸŸï¼‰ä¹Ÿèƒ½å…³é—­
        document.querySelectorAll('.modal-overlay').forEach(function(overlay) {
            overlay.addEventListener('click', function(e) {
                if (e.target === this) this.classList.remove('active');
            });
        });
    });
    </script>

    <!-- å…ˆåŠ è½½ç¦»çº¿å¤‡ç”¨æ•°æ®ï¼Œå†åŠ è½½ API æ¨¡å—ï¼Œæœ€ååŠ è½½æ¸¸æˆé€»è¾‘ -->
<script src="data/fallback_cards.js?v=0.6.1"></script>
    <script src="js/api.js?v=0.6.1"></script>
    <script src="js/game.js?v=0.6.1"></script>
</body>
</html>
